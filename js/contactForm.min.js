jQuery(document).ready(function(e){e("[class^=input-]").after("<div class='message'></div>"),e(".contact-form").length&&e(".contact-form").submit(function(){console.log("submit"),e(".message").html("");var t=e.templates("<p class='{{:text_color}}'>{{:message}}</p>"),s="Dieses Feld darf nicht leer sein",a="Keine gültige Mail Adresse",n=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/,r=e(this).find(".input-name"),l=e(this).find(".input-mail"),i=e(this).find(".input-message"),c=e(this).find(".input-subject"),m=!0;return""==r.val()&&(r.next(".message").html(t.render({text_color:"text-alert",message:s})),m=!1),""==l.val()?(l.next(".message").html(t.render({text_color:"text-alert",message:s})),m=!1):n.test(l.val())||(l.next(".message").html(t.render({text_color:"text-alert",message:a})),m=!1),""==i.val()&&(i.next(".message").html(t.render({text_color:"text-alert",message:s})),m=!1),1==m&&e.post(globals.ajaxurl,{action:"send_mail",page_id:page_id,message:i.val(),senderMail:l.val(),subject:c.val(),senderName:r.val()}).done(function(e){var s=JSON.parse(e),a="",n="";switch(s.code){case!1:a="text-alert",n="Nachricht konnte nicht übermittelt werden";break;case!0:a="text-success",n="Wir haben deine Nachricht erhalten, Merci!"}i.next(".message").html(t.render({text_color:a,message:n}))}),!1})});